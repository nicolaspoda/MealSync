{
	"info": {
		"_postman_id": "mealsync-api-collection",
		"name": "MealSync API",
		"description": "Complete API collection for MealSync - SmartCity meal and nutrition management service",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Aliments",
			"item": [
				{
					"name": "Get All Aliments",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/aliments",
							"host": ["{{base_url}}"],
							"path": ["aliments"]
						},
						"description": "Retrieves the list of all available aliments in the database."
					}
				},
				{
					"name": "Get Aliment by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/aliments/:alimentId",
							"host": ["{{base_url}}"],
							"path": ["aliments", ":alimentId"],
							"variable": [
								{
									"key": "alimentId",
									"value": "52907745-7672-470e-a803-a2f8feb52944",
									"description": "The aliment's identifier"
								}
							]
						},
						"description": "Retrieves the details of an existing aliment."
					}
				},
				{
					"name": "Create Aliment",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Poulet\",\n  \"cal_100g\": 165\n}"
						},
						"url": {
							"raw": "{{base_url}}/aliments",
							"host": ["{{base_url}}"],
							"path": ["aliments"]
						},
						"description": "Creates a new aliment in the database."
					}
				},
				{
					"name": "Update Aliment",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Poulet grillé\",\n  \"cal_100g\": 170\n}"
						},
						"url": {
							"raw": "{{base_url}}/aliments/:alimentId",
							"host": ["{{base_url}}"],
							"path": ["aliments", ":alimentId"],
							"variable": [
								{
									"key": "alimentId",
									"value": "52907745-7672-470e-a803-a2f8feb52944"
								}
							]
						},
						"description": "Updates the information of an existing aliment."
					}
				},
				{
					"name": "Delete Aliment",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/aliments/:alimentId",
							"host": ["{{base_url}}"],
							"path": ["aliments", ":alimentId"],
							"variable": [
								{
									"key": "alimentId",
									"value": "52907745-7672-470e-a803-a2f8feb52944"
								}
							]
						},
						"description": "Deletes an aliment from the database."
					}
				}
			]
		},
		{
			"name": "Equipments",
			"item": [
				{
					"name": "Get All Equipments",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/equipments",
							"host": ["{{base_url}}"],
							"path": ["equipments"]
						}
					}
				},
				{
					"name": "Get Equipment by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/equipments/:equipmentId",
							"host": ["{{base_url}}"],
							"path": ["equipments", ":equipmentId"],
							"variable": [
								{
									"key": "equipmentId",
									"value": "52907745-7672-470e-a803-a2f8feb52944"
								}
							]
						}
					}
				},
				{
					"name": "Create Equipment",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Four\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/equipments",
							"host": ["{{base_url}}"],
							"path": ["equipments"]
						}
					}
				},
				{
					"name": "Update Equipment",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Four électrique\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/equipments/:equipmentId",
							"host": ["{{base_url}}"],
							"path": ["equipments", ":equipmentId"],
							"variable": [
								{
									"key": "equipmentId",
									"value": "52907745-7672-470e-a803-a2f8feb52944"
								}
							]
						}
					}
				},
				{
					"name": "Delete Equipment",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/equipments/:equipmentId",
							"host": ["{{base_url}}"],
							"path": ["equipments", ":equipmentId"],
							"variable": [
								{
									"key": "equipmentId",
									"value": "52907745-7672-470e-a803-a2f8feb52944"
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "Macros",
			"item": [
				{
					"name": "Get All Macros",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/macros",
							"host": ["{{base_url}}"],
							"path": ["macros"]
						}
					}
				},
				{
					"name": "Get Macro by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/macros/:macroId",
							"host": ["{{base_url}}"],
							"path": ["macros", ":macroId"],
							"variable": [
								{
									"key": "macroId",
									"value": "52907745-7672-470e-a803-a2f8feb52944"
								}
							]
						}
					}
				},
				{
					"name": "Create Macro",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Protéines\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/macros",
							"host": ["{{base_url}}"],
							"path": ["macros"]
						}
					}
				},
				{
					"name": "Update Macro",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Protéines animales\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/macros/:macroId",
							"host": ["{{base_url}}"],
							"path": ["macros", ":macroId"],
							"variable": [
								{
									"key": "macroId",
									"value": "52907745-7672-470e-a803-a2f8feb52944"
								}
							]
						}
					}
				},
				{
					"name": "Delete Macro",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/macros/:macroId",
							"host": ["{{base_url}}"],
							"path": ["macros", ":macroId"],
							"variable": [
								{
									"key": "macroId",
									"value": "52907745-7672-470e-a803-a2f8feb52944"
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "Meals",
			"item": [
				{
					"name": "Get All Meals",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/meals?page=&limit=&title=&minCalories=&maxCalories=&aliment=&equipment=&maxTime=&targetCalories=&excludedAliments=&availableEquipments=&preferredMacros=&suggestionsLimit=",
							"host": ["{{base_url}}"],
							"path": ["meals"],
							"query": [
								{
									"key": "page",
									"value": "",
									"description": "Page number for pagination",
									"disabled": true
								},
								{
									"key": "limit",
									"value": "",
									"description": "Items per page (max 100)",
									"disabled": true
								},
								{
									"key": "title",
									"value": "",
									"description": "Filter by title (partial match)",
									"disabled": true
								},
								{
									"key": "minCalories",
									"value": "",
									"description": "Minimum calories",
									"disabled": true
								},
								{
									"key": "maxCalories",
									"value": "",
									"description": "Maximum calories",
									"disabled": true
								},
								{
									"key": "aliment",
									"value": "",
									"description": "Filter by aliment name",
									"disabled": true
								},
								{
									"key": "equipment",
									"value": "",
									"description": "Filter by equipment name",
									"disabled": true
								},
								{
									"key": "maxTime",
									"value": "",
									"description": "Quick meals: max preparation time (minutes)",
									"disabled": true
								},
								{
									"key": "targetCalories",
									"value": "",
									"description": "Suggestions: target calories",
									"disabled": true
								},
								{
									"key": "excludedAliments",
									"value": "",
									"description": "Suggestions: comma-separated excluded aliments",
									"disabled": true
								},
								{
									"key": "availableEquipments",
									"value": "",
									"description": "Suggestions: comma-separated equipment IDs",
									"disabled": true
								},
								{
									"key": "preferredMacros",
									"value": "",
									"description": "Suggestions: preferred macro (protein/carbohydrates/lipids)",
									"disabled": true
								},
								{
									"key": "suggestionsLimit",
									"value": "",
									"description": "Suggestions: number of results (default: 5, max: 20)",
									"disabled": true
								}
							],
							"description": "Retrieves meals with optional pagination, filtering, and suggestion features. Without parameters: returns all meals. With page/limit: pagination. With maxTime: quick meals. With suggestion params: personalized suggestions."
						}
					}
				},
				{
					"name": "Get Meal by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/meals/:mealId",
							"host": ["{{base_url}}"],
							"path": ["meals", ":mealId"],
							"variable": [
								{
									"key": "mealId",
									"value": "52907745-7672-470e-a803-a2f8feb52944"
								}
							]
						}
					}
				},
				{
					"name": "Get Meal Nutrition Analysis",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/meals/:mealId/nutrition-analysis",
							"host": ["{{base_url}}"],
							"path": ["meals", ":mealId", "nutrition-analysis"],
							"variable": [
								{
									"key": "mealId",
									"value": "52907745-7672-470e-a803-a2f8feb52944"
								}
							]
						}
					}
				},
				{
					"name": "Create Meal",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Poulet au riz et brocolis\",\n  \"description\": \"Un repas équilibré riche en protéines\",\n  \"calories\": 450,\n  \"aliments\": [\n    {\n      \"alimentId\": \"2f5b7478-f4ea-4bad-9889-ce261769a1af\",\n      \"quantity\": 150\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/meals",
							"host": ["{{base_url}}"],
							"path": ["meals"]
						}
					}
				},
				{
					"name": "Analyze Meal (Payload)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"aliments\": [\n    {\n      \"name\": \"Poulet\",\n      \"quantity\": 150,\n      \"cal_100g\": 165,\n      \"protein_100g\": 31,\n      \"carbs_100g\": 0,\n      \"fat_100g\": 3.6\n    },\n    {\n      \"name\": \"Riz\",\n      \"quantity\": 200,\n      \"cal_100g\": 130,\n      \"protein_100g\": 2.7,\n      \"carbs_100g\": 28,\n      \"fat_100g\": 0.3\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/meals/analyze?fromDb=false",
							"host": ["{{base_url}}"],
							"path": ["meals", "analyze"],
							"query": [
								{
									"key": "fromDb",
									"value": "false",
									"description": "false: payload with nutrition values, true: references from DB"
								}
							],
							"description": "Analyze a meal composition without persisting it. fromDb=false (default): expects nutrition values in payload. fromDb=true: expects aliment references (alimentId/name + quantity)."
						}
					}
				},
				{
					"name": "Analyze Meal (From DB)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"aliments\": [\n    {\n      \"alimentId\": \"2f5b7478-f4ea-4bad-9889-ce261769a1af\",\n      \"quantity\": 150\n    },\n    {\n      \"alimentId\": \"ce07a599-3859-4fce-af1a-314f4801a942\",\n      \"quantity\": 200\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/meals/analyze?fromDb=true",
							"host": ["{{base_url}}"],
							"path": ["meals", "analyze"],
							"query": [
								{
									"key": "fromDb",
									"value": "true",
									"description": "true: fetch nutrition from DB using alimentId/name"
								}
							],
							"description": "Analyze a meal using aliments from the database. Set fromDb=true and provide alimentId or name with quantity."
						}
					}
				},
				{
					"name": "Update Meal",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Poulet au riz et brocolis (modifié)\",\n  \"calories\": 480\n}"
						},
						"url": {
							"raw": "{{base_url}}/meals/:mealId",
							"host": ["{{base_url}}"],
							"path": ["meals", ":mealId"],
							"variable": [
								{
									"key": "mealId",
									"value": "52907745-7672-470e-a803-a2f8feb52944"
								}
							]
						}
					}
				},
				{
					"name": "Delete Meal",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/meals/:mealId",
							"host": ["{{base_url}}"],
							"path": ["meals", ":mealId"],
							"variable": [
								{
									"key": "mealId",
									"value": "52907745-7672-470e-a803-a2f8feb52944"
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "Preparations",
			"item": [
				{
					"name": "Get All Preparations",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/preparations",
							"host": ["{{base_url}}"],
							"path": ["preparations"]
						}
					}
				},
				{
					"name": "Get Preparation by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/preparations/:preparationId",
							"host": ["{{base_url}}"],
							"path": ["preparations", ":preparationId"],
							"variable": [
								{
									"key": "preparationId",
									"value": "52907745-7672-470e-a803-a2f8feb52944"
								}
							]
						}
					}
				},
				{
					"name": "Create Preparation",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"step\": 1,\n  \"description\": \"Couper le poulet en morceaux\",\n  \"estimated_time\": 5\n}"
						},
						"url": {
							"raw": "{{base_url}}/preparations",
							"host": ["{{base_url}}"],
							"path": ["preparations"]
						}
					}
				},
				{
					"name": "Update Preparation",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"description\": \"Couper le poulet en petits morceaux\",\n  \"estimated_time\": 7\n}"
						},
						"url": {
							"raw": "{{base_url}}/preparations/:preparationId",
							"host": ["{{base_url}}"],
							"path": ["preparations", ":preparationId"],
							"variable": [
								{
									"key": "preparationId",
									"value": "52907745-7672-470e-a803-a2f8feb52944"
								}
							]
						}
					}
				},
				{
					"name": "Delete Preparation",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/preparations/:preparationId",
							"host": ["{{base_url}}"],
							"path": ["preparations", ":preparationId"],
							"variable": [
								{
									"key": "preparationId",
									"value": "52907745-7672-470e-a803-a2f8feb52944"
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "Meal Plans",
			"item": [
				{
					"name": "Generate Meal Plan",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{api_key}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"objectives\": {\n    \"targetCalories\": 2000,\n    \"macros\": {\n      \"protein\": 150,\n      \"carbohydrates\": 200,\n      \"lipids\": 65\n    }\n  },\n  \"constraints\": {\n    \"mealsPerDay\": 3,\n    \"excludedAliments\": [\"Poisson\"],\n    \"availableEquipments\": [\"oven\", \"stove\"]\n  }\n}"
						},
						"url": {
							"raw": "{{base_url}}/meal-plans/generate",
							"host": ["{{base_url}}"],
							"path": ["meal-plans", "generate"]
						},
						"description": "Generate a personalized meal plan based on nutritional objectives and dietary constraints."
					}
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:3000",
			"type": "string"
		},
		{
			"key": "api_key",
			"value": "abc123456",
			"type": "string"
		}
	]
}

